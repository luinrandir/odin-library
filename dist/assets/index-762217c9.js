var S=Object.defineProperty;var b=(l,e,t)=>e in l?S(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var h=(l,e,t)=>(b(l,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))d(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&d(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}})();function m(l,e,t){l===null||e===null||t===null||(l.addEventListener("click",()=>t.showModal()),e.addEventListener("click",()=>t.close()))}function p(l,e){l===null||e===null||l.addEventListener("click",()=>e.classList.toggle("collapse"))}const q=["odd:bg-slate-50","even:bg-indigo-100","odd:hover:bg-slate-200","even:hover:bg-indigo-200"],k=["rounded-full","text-green-600","w-5","h-5","focus:border-green-600","focus:ring","focus:ring-green-600"],v=["rounded-full","border-2","border-red-400","px-3","py-1","font-semibold","tracking-wide","hover:bg-red-400","hover:text-white"];class L{constructor(e){h(this,"_list");h(this,"_table");this._list=JSON.parse(localStorage.getItem("books")||"[]"),this._table=e,this.render()}addBook(e,t,d,o){this._list.push({title:e,author:t,genre:d,read:o}),this.addRow(this._table.getElementsByTagName("tbody")[0],{title:e,author:t,genre:d,read:o},0),this.updateDatabase()}addRow(e,t,d=-1){var c,g;let o=e.insertRow(d),r=`key-${t.title.split(" ").join("")}`;o.classList.add(...q),o.id=r,o.innerHTML=`
      <td class="${t.read?"read":""} p-2">${t.title}</td>
      <td class="p-2">${t.author}</td>
      <td class="p-2">${t.genre}</td>
      <td class="pl-4 p-2"><input type="checkbox" data-checked=${r} class="${k.join(" ")}" ${t.read?"checked":""}/></td>
      <td class="p-2">
        <button type="button" data-key=${r} class="delete-row ${v.join(" ")}">Remove</button>
      </td>`,(c=document.querySelector(`[data-checked="${r}"]`))==null||c.addEventListener("change",()=>{var s,a,f;(s=document.querySelector(`[data-checked="${r}"]`))==null||s.toggleAttribute("checked"),(f=(a=document.getElementById(r))==null?void 0:a.firstElementChild)==null||f.classList.toggle("read"),this._list.map(y=>{y.title===t.title&&(y.read=!y.read)}),this.updateDatabase()}),(g=document.querySelector(`[data-key="${r}"]`))==null||g.addEventListener("click",()=>{var s;(s=document.getElementById(r))==null||s.remove(),this._list.splice(this._list.findIndex(a=>a.title===t.title),1),this.updateDatabase()})}render(){this._table!==null&&this._list.forEach(e=>{this.addRow(this._table.getElementsByTagName("tbody")[0],e)})}updateDatabase(){localStorage.setItem("books",JSON.stringify([...this._list]))}}const n=document.querySelector("#theme"),u=document.querySelector("picture");localStorage.getItem("theme")==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(u.querySelector("source").media="all",document.documentElement.classList.add("dark"),n.innerText="light_mode",localStorage.setItem("theme","dark")):(u.querySelector("source").media="none",document.documentElement.classList.remove("dark"),n.innerText="dark_mode",localStorage.setItem("theme","light"));n.addEventListener("click",()=>{n.innerText==="dark_mode"?(u.querySelector("source").media="all",document.documentElement.classList.add("dark"),n.innerText="light_mode",localStorage.setItem("theme","dark")):(u.querySelector("source").media="none",document.documentElement.classList.remove("dark"),n.innerText="dark_mode",localStorage.setItem("theme","light"))});m(document.querySelector("#about-btn"),document.querySelector("#about-close"),document.querySelector("#about-modal"));m(document.querySelector("#about-btn-media"),document.querySelector("#about-close"),document.querySelector("#about-modal"));m(document.querySelector("#made-btn"),document.querySelector("#made-close"),document.querySelector("#made-modal"));m(document.querySelector("#made-btn-media"),document.querySelector("#made-close"),document.querySelector("#made-modal"));p(document.querySelector("#burger"),document.querySelector("#menu"));const i=document.querySelector("#book-entry"),E=document.querySelector("#title"),_=document.querySelector("#author"),w=document.querySelector("#genre"),$=document.querySelector("#read");let x=new L(document.querySelector("#list"));i==null||i.addEventListener("submit",l=>{l.preventDefault(),x.addBook(E.value,_.value,w.value,$.value==="Read"),i.reset()});
